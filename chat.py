import os
import google.generativeai as genai

genai.configure(api_key=os.getenv("AIzaSyCp4awTqgjl7hUfY_iecS-CbfG81_Aa784"))

# Create the model
generation_config = {
  "temperature": 0,
  "top_p": 0.95,
  "top_k":64,
  "max_output_tokens": 8192,
  "response_mime_type": "text/plain",
}

model = genai.GenerativeModel(
  model_name="gemini-1.5-pro",
  generation_config=generation_config,
  system_instruction="How can I create an effective monthly budget that aligns with my income and expenses?\nStart by listing all sources of income and tracking every expense. Categorize expenses into fixed (rent, utilities) and variable (entertainment, dining). Use a budgeting app or spreadsheet to set spending limits, adjust as needed, and review your progress monthly.\n\nWhat percentage of my income should be allocated to savings versus spending?\nMany experts recommend the 50/30/20 rule: allocate about 50% for necessities, 30% for discretionary spending, and 20% for savings and debt repayment. Adjust these percentages based on your personal financial situation.\n\nHow do I identify and reduce unnecessary expenses?\nReview your bank and credit card statements to pinpoint recurring costs. Cancel or renegotiate subscriptions you rarely use, seek cheaper alternatives for services, and consider a “needs vs. wants” approach when making purchases.\n\nWhat are the best strategies for paying off credit card debt quickly?\nConsider the avalanche method (paying off the highest-interest debt first) or the snowball method (paying off the smallest balance first for momentum). Additionally, avoid new debt, pay more than the minimum, and consider balance transfers if it lowers interest rates.\n\nHow should I start building an emergency fund, and how much should it contain?\nBegin by setting aside a small, manageable amount each month. Aim to build an emergency fund that covers 3–6 months of essential expenses, ensuring you have a buffer for unexpected costs or job loss.\n\nWhich high-yield savings accounts are most suitable for middle-class earners?\nLook for online banks or credit unions offering competitive interest rates, low fees, and easy access to funds. Compare rates and account features to find one that fits your needs.\n\nWhat steps can I take to improve my credit score?\nAlways pay bills on time, reduce your overall debt, keep credit card balances low, and review your credit report for errors. Over time, these habits can lead to a stronger credit score.\n\nAre there simple ways to track my daily or monthly spending?\nYes, many apps like Mint, YNAB (You Need a Budget), and Personal Capital automatically track transactions, categorize expenses, and provide visual summaries of your spending.\n\nHow do I balance saving money while paying off debts?\nPrioritize high-interest debt repayment while setting aside a small, consistent amount for savings. As debts decrease, you can increase your savings contributions.\n\nWhat are some reliable investment options for someone new to investing?\nConsider low-cost index funds, ETFs, or mutual funds. These options offer diversification and are typically easier to manage, making them ideal for beginners.\n\nIs investing in mutual funds a good option for someone with a limited budget?\nYes, mutual funds can be a great way to diversify your investments even with limited funds. Look for funds with low expense ratios and minimum investment requirements that fit your budget.\n\nHow can I get started with investing in the stock market?\nEducate yourself on basic concepts, open a brokerage account, and start with low-cost, diversified investments such as index funds. Many platforms now allow you to buy fractional shares, lowering the barrier to entry.\n\nWhat are the risks of investing in individual stocks compared to funds?\nIndividual stocks can be more volatile and require in-depth research, whereas funds spread the risk across multiple assets. Diversification in funds typically reduces the risk associated with market fluctuations.\n\nAre index funds a smart long-term investment choice for middle-class individuals?\nYes, index funds offer low fees, broad market exposure, and historically strong performance over the long term. They are a popular choice for building wealth steadily.\n\nHow do I determine my risk tolerance when selecting investments?\nReflect on your financial goals, investment timeline, and comfort level with market fluctuations. Online risk tolerance quizzes and discussions with a financial advisor can also help clarify your risk profile.\n\nWhat is asset allocation, and why is it important for my financial plan?\nAsset allocation is the process of dividing your investments among different asset classes (e.g., stocks, bonds, cash) to balance risk and reward. It helps protect your portfolio from market volatility.\n\nHow can I invest with just a small amount of money each month?\nUtilize micro-investing apps or platforms that allow for fractional share purchases. These tools enable you to start investing with small amounts, building your portfolio gradually over time.\n\nWhat role do robo-advisors play in managing my investments?\nRobo-advisors offer automated, low-cost portfolio management based on your risk tolerance and financial goals. They handle asset allocation and rebalancing, making them an ideal option for hands-off investors.\n\nHow do I choose between a 401(k), Traditional IRA, or Roth IRA for retirement savings?\nCompare the tax benefits, contribution limits, and employer match opportunities. A 401(k) is often beneficial if your employer offers matching, while Traditional IRAs and Roth IRAs offer tax advantages based on your current and future tax situations.\n\nWhat factors should I consider when setting up my retirement plan?\nConsider your expected retirement age, estimated expenses, risk tolerance, and whether your employer offers matching contributions. Also, factor in inflation and potential healthcare costs in your planning.\n\nIs real estate investment a viable option for someone with a middle-class income?\nIt can be, if you carefully evaluate affordability, location, and potential rental income. Real estate can diversify your portfolio but requires thorough research and long-term commitment.\n\nWhat should I know before buying my first home?\nAssess your financial readiness by reviewing your credit score, savings for a down payment, and overall budget. Understand mortgage options, local market trends, and consider additional costs like maintenance and insurance.\n\nHow can I refinance my mortgage to reduce monthly payments?\nResearch current interest rates and speak with a mortgage advisor. Refinancing might lower your monthly payments if you secure a lower interest rate or extend your loan term—but always consider closing costs and long-term implications.\n\nWhy is having adequate life insurance important, and how do I determine the right amount?\nLife insurance protects your loved ones from financial hardship in case of your passing. Calculate coverage based on outstanding debts, future living expenses, and any other financial obligations your dependents might have.\n\nHow can I plan for future education expenses if I have children?\nConsider tax-advantaged accounts such as 529 college savings plans, which allow your investments to grow tax-free when used for education. Start early, and set realistic savings goals based on anticipated costs.\n\nWhat are effective methods for setting and reaching financial goals?\nUse SMART (Specific, Measurable, Achievable, Relevant, Time-bound) goal-setting techniques. Break down larger goals into manageable steps, monitor progress regularly, and adjust your plan as needed.\n\nWhich budgeting apps or tools can help me manage my finances better?\nPopular tools include Mint, YNAB (You Need a Budget), Personal Capital, and PocketGuard. Each offers features like expense tracking, goal setting, and real-time budgeting advice.\n\nHow can I negotiate bills or lower recurring monthly expenses?\nContact your service providers and ask for promotions or discounts. Research competitor pricing, bundle services when possible, and consider switching providers if better deals are available.\n\nWhat strategies should I use to avoid common financial scams?\nStay informed about the latest scams, safeguard your personal information, verify the legitimacy of offers before acting, and be cautious with unsolicited contacts. Use trusted sources for financial advice and transactions.\n\nHow can I improve my overall financial literacy?\nRead reputable financial books, follow trusted financial news sources, enroll in online courses, and consider speaking with a financial advisor. Consistent education is key to making informed decisions.\n\nWhat common financial mistakes should I avoid as a middle-class earner?\nAvoid overspending, neglecting an emergency fund, accumulating high-interest debt, and making impulsive investment decisions. Regular budgeting and planning can help prevent these pitfalls.\n\nHow should I prepare for the possibility of an unexpected job loss?\nBuild an emergency fund covering several months of essential expenses. Keep your resume updated, network actively, and consider acquiring new skills to enhance your job security.\n\nWhy is diversification important in my investment portfolio?\nDiversification spreads your investments across various asset classes, reducing the impact of a poor-performing asset on your overall portfolio and lowering overall risk.\n\nHow can I balance saving for retirement with other financial goals?\nPrioritize by covering high-interest debts and building an emergency fund first. Then, contribute to retirement accounts while setting aside funds for other goals. Revisit and adjust your allocations periodically.\n\nIs consulting with a financial advisor worthwhile, and how do I choose one?\nA financial advisor can provide personalized guidance, especially if your financial situation is complex. Look for advisors with certified credentials, fiduciary responsibility, transparent fee structures, and positive reviews.\n\nWhat tax implications should I consider when making investment decisions?\nUnderstand the tax treatment of dividends, capital gains, and interest income. Consider tax-efficient investment accounts and strategies that may defer taxes, like contributing to retirement plans.\n\nHow can I legally reduce my taxable income?\nContribute to tax-advantaged accounts (such as 401(k)s, IRAs, or HSAs), take advantage of available deductions and credits, and manage investment gains to align with your current tax bracket.\n\nWhat strategies are available to help me save on taxes throughout the year?\nAdjust your tax withholding if needed, keep detailed records of deductible expenses, and consider periodic consultations with a tax professional to ensure you’re taking advantage of all available tax-saving opportunities.\n\nHow can I plan to pay off my mortgage early without straining my finances?\nConsider making extra payments or applying lump sums when possible. Ensure that early payments don’t compromise your ability to meet other financial obligations or contribute to savings.\n\nWhat impact does inflation have on my savings, and how can I counteract it?\nInflation erodes your money’s purchasing power over time. To counteract it, invest in assets—such as stocks or real estate—that have historically outpaced inflation, and review your savings strategy regularly.\n\nHow should I plan financially for major life events like buying a car or a wedding?\nEstimate the total cost early and set aside funds monthly leading up to the event. Consider creating a separate savings account for these goals to avoid disrupting your regular budget.\n\nWhat are the pros and cons of leasing versus buying a vehicle?\nLeasing often offers lower monthly payments and access to newer models, but you won’t own the vehicle and may face mileage limits. Buying builds equity over time and can be more cost-effective long term, though upfront costs are generally higher.\n\nHow can I maximize employer-sponsored benefits like retirement plans?\nContribute at least enough to receive the full employer match. Familiarize yourself with other benefits such as health savings accounts or wellness programs, and take advantage of any financial planning resources your employer offers.\n\nWhat tips can help me develop and maintain better saving habits?\nAutomate your savings so that a portion of your paycheck goes directly into a savings account. Set clear, attainable goals, track your progress, and adjust your spending habits to support your saving objectives.\n\nHow do I adjust my financial plan if I start saving for retirement later than planned?\nIncrease your retirement contributions if possible, consider catch-up contributions if available, reduce unnecessary expenses, and possibly extend your working years to build up your retirement fund.\n\nWhat strategies help balance short-term spending needs with long-term savings goals?\nCreate a realistic budget that allocates funds for daily needs, discretionary spending, and savings. Regularly review your priorities and make adjustments based on any life changes or financial milestones.\n\nHow can I effectively manage and pay off student loans while saving money?\nConsider income-based repayment plans or refinancing to lower interest rates if feasible. Prioritize higher-interest loans first, but continue to set aside a small amount for savings to maintain a balanced financial approach.\n\nWhat investment options are best for someone with a low risk tolerance?\nConservative choices like high-quality bonds, fixed-income securities, and balanced mutual funds can offer stability. Dividend-paying stocks and money market funds are also options that typically present lower risk.\n\nHow do I decide when it’s the right time to invest extra cash or bonuses?\nFirst, ensure you have an adequate emergency fund and that high-interest debts are under control. Then, assess current market conditions, your long-term goals, and whether you need to rebalance your portfolio before investing additional funds.\n\nWhat practical steps can I take today to secure my financial future?\nBegin by creating a detailed budget, building an emergency fund, and establishing clear financial goals. Start small with regular investments, reduce high-interest debt, and continuously educate yourself on financial best practices.",
)

history = []

print("bot: Hello, how can I help you ?")

while True:
    user_input = input("YOU:")

    chat_session = model.start_chat(
        history=history
    )

    response =chat_session.send_message(user_input)
    model_response = response.text

    print(f'BOT:{model_response}')
    print()

    history.append({"role":"user","parts":[user_input]})
    history.append({"role":"model","parts" :[model_response]})