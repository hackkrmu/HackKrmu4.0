{"ast":null,"code":"var _jsxFileName = \"D:\\\\IMPORTANT\\\\visuallyimp-atmoeye-main\\\\EyeSight-main\\\\eyesight\\\\Face-recog\\\\src\\\\components\\\\SelectedImage\\\\SelectedImage.js\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { detectFaces, drawResults } from \"../../helpers/faceApi\";\nimport \"./SelectedImage.css\";\nimport Results from \"../Results/Results\";\nconst SelectedImage = ({\n  img\n}) => {\n  const selected = useRef();\n  const canvas = useRef();\n  const [processing, setProcessing] = useState(true);\n  const [results, setResults] = useState([]);\n  const getFaces = async () => {\n    setProcessing(true);\n    const faces = await detectFaces(selected.current);\n    const text = \"The person is \" + faces[0].expressions.asSortedArray()[0].expression + \" \" + Math.round(faces[0].age) + \" years old \" + faces[0].gender;\n    let speech = new SpeechSynthesisUtterance();\n    speech.lang = \"en\";\n    console.log(text);\n    speech.text = text;\n    window.speechSynthesis.speak(speech);\n    setResults(faces);\n    drawResults(selected.current, canvas.current, faces, \"box\");\n    drawResults(selected.current, canvas.current, faces, \"landmarks\");\n    setProcessing(false);\n  };\n  useEffect(() => {\n    getFaces();\n  }, [img]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"selected-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"selected-image__wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    ref: selected,\n    src: img,\n    alt: \"selected\",\n    className: \"selected-image__image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"canvas\", {\n    className: \"selected-image__overlay\",\n    ref: canvas,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"results__container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Results, {\n    results: results,\n    processing: processing,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  })));\n};\nexport default SelectedImage;","map":{"version":3,"names":["React","useEffect","useRef","useState","detectFaces","drawResults","Results","SelectedImage","img","selected","canvas","processing","setProcessing","results","setResults","getFaces","faces","current","text","expressions","asSortedArray","expression","Math","round","age","gender","speech","SpeechSynthesisUtterance","lang","console","log","window","speechSynthesis","speak","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","ref","src","alt"],"sources":["D:/IMPORTANT/visuallyimp-atmoeye-main/EyeSight-main/eyesight/Face-recog/src/components/SelectedImage/SelectedImage.js"],"sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\nimport {detectFaces, drawResults} from \"../../helpers/faceApi\";\n\nimport \"./SelectedImage.css\";\nimport Results from \"../Results/Results\";\n\nconst SelectedImage = ({img}) => {\n  const selected = useRef();\n  const canvas = useRef();\n\n  const [processing, setProcessing] = useState(true);\n  const [results, setResults] = useState([]);\n\n  const getFaces = async () => {\n    setProcessing(true);\n    const faces = await detectFaces(selected.current);\n    const text = \"The person is \"+ faces[0].expressions.asSortedArray()[0].expression+\" \"+ Math.round(faces[0].age) + \" years old \" +faces[0].gender;\n    let speech = new SpeechSynthesisUtterance();\n    speech.lang = \"en\";\n    console.log(text);\n    speech.text = text;\n      window.speechSynthesis.speak(speech);\n    setResults(faces);\n    drawResults(selected.current, canvas.current, faces, \"box\");\n    drawResults(selected.current, canvas.current, faces, \"landmarks\");\n\n    setProcessing(false);\n  };\n\n  useEffect(() => {\n    getFaces();\n  }, [img]);\n\n  return (\n    <div className=\"selected-image\">\n      <div className=\"selected-image__wrapper\">\n        <img\n          ref={selected}\n          src={img}\n          alt=\"selected\"\n          className=\"selected-image__image\"\n        />\n        <canvas className=\"selected-image__overlay\" ref={canvas} />\n      </div>\n      <div className=\"results__container\">\n        <Results results={results} processing={processing} />\n      </div>\n    </div>\n  );\n};\n\nexport default SelectedImage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}